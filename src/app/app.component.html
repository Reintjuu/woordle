<div class="container">
  <app-title [won]="won"></app-title>
  <div class="grid-container">
    <ng-container *ngFor="let word of words; let wordIndex = index">
      <ng-container *ngFor="let letter of word; let letterIndex = index">
        <!-- TODO: Track indexes manually instead, and don't use the input with the weird focus hacks anymore. -->
        <input
          #input
          [(ngModel)]="letter.value"
          (ngModelChange)="checkLetterInWord(wordIndex, letterIndex)"
          [ngClass]="{
            'correct': letter.state === state.Correct,
            'incorrect': letter.state === state.Incorrect,
            'hint': letter.state === state.Hint
          }"
          [readonly]="letter.state !== state.None"
          (focus)="updateCurrentFocus(wordIndex, letterIndex)"
          class="letter grid-item"
          maxlength="1"
          moveNextByMaxLength
          nz-input
          nzSize="large"
        />
      </ng-container>
    </ng-container>
  </div>
  <button (click)="reloadPage()" class="retry-button" nz-button>
    <i nz-icon nzTheme="outline" nzType="reload"></i>
    Opnieuw
  </button>

  <app-keyboard (keyPressed)="onPressKeyboardKey($event)" (backspacePressed)="onPressKeyboardBackspace()">
  </app-keyboard>
</div>

